{"version":3,"sources":["null","ng://@n-fuse/ng-plotly/plotly/plotly.component.ts","ng://@n-fuse/ng-plotly/index.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","isWebkit","document","documentElement","style","ResizeEvent","PlotlyParameter","PlotlyComponent","cd","_this","tag","debug","console","log","resizeHandler","receivedResize","resize","bind","prototype","ngOnInit","Tag","plotId","ngAfterViewInit","setTimeout","recreate","ngOnChanges","changes","plot","changedKeys","Object","keys","includesArr","changeAction","ChangeAction","Resize","Relayout","includes","Redraw","Recreate","applyChanges","relayout","redraw","None","restyle","update","traces","undefined","Plotly.restyle","event","Plotly.Plots","_a","layout","Plotly.relayout","dataUpdate","layoutUpdate","Plotly.update","data","Plotly.redraw","removeEventListeners","getElementById","width","height","resizePlot","Plotly.newPlot","config","configuration","frames","attachEventListeners","events","afterPlot","forEach","k","on","Plotly","window","addEventListener","removeEventListener","addTraces","index","Plotly.addTraces","deleteTraces","Plotly.deleteTraces","animate","animation","Plotly.animate","addFrames","indices","Plotly.addFrames","deleteFrames","Plotly.deleteFrames","ngOnDestroy","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","host","[style.width]","[style.height]","ChangeDetectorRef","Input","arr","val","indexOf","vals","some","PlotlyModule","NgModule","imports","CommonModule","exports","declarations","providers","Hover","Unhover","Click","DoubleClick","ClickAnnotation","AfterPlot","Restyle","Selecting","Selected","Deselect"],"mappings":"oWAcA,SAAAA,EA6C0BC,EAASC,EAAYC,EAAGC,GAC9C,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAAAC,EAAmBC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,IAAW,MAAOG,GAAKL,EAAOK,IACpF,SAAAC,EAAkBJ,GAAS,IAAMC,EAAKN,EAAiB,SAAEK,IAAW,MAAOG,GAAKL,EAAOK,IACvF,SAAAF,EAAcI,GAAUA,EAAOC,KAAOT,EAAQQ,EAAOL,OAAS,IAAIN,EAAE,SAAUG,GAAWA,EAAQQ,EAAOL,SAAWO,KAAKR,EAAWK,GACnIH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,UAItE,SAAAO,EAA4BjB,EAASkB,GACjC,IAAsGC,EAAGC,EAAGC,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEZ,KAAMkB,EAAK,GAAIC,QAASD,EAAK,GAAIE,SAAUF,EAAK,IAAwB,mBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WAAa,OAAOC,OAAUX,EACvJ,SAAAM,EAAcM,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIjB,EAAG,MAAM,IAAIkB,UAAU,mCAC3B,KAAOd,GAAG,IACN,GAAIJ,EAAI,EAAGC,IAAMC,EAAID,EAAU,EAARgB,EAAG,GAAS,SAAWA,EAAG,GAAK,QAAU,YAAcf,EAAIA,EAAEiB,KAAKlB,EAAGgB,EAAG,KAAKtB,KAAM,OAAOO,EAEjH,OADID,EAAI,EAAGC,IAAGe,EAAK,CAAC,EAAGf,EAAEb,QACjB4B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGf,EAAIe,EAAI,MACxB,KAAK,EAAc,OAAXb,EAAEC,QAAgB,CAAEhB,MAAO4B,EAAG,GAAItB,MAAM,GAChD,KAAK,EAAGS,EAAEC,QAASJ,EAAIgB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKb,EAAEI,IAAIY,MAAOhB,EAAEG,KAAKa,MAAO,SACxC,QACI,KAAkBlB,EAAe,GAA3BA,EAAIE,EAAEG,MAAYc,QAAcnB,EAAEA,EAAEmB,OAAS,MAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEb,EAAI,EAAG,SACjG,GAAc,IAAVa,EAAG,MAAcf,GAAMe,EAAG,GAAKf,EAAE,IAAMe,EAAG,GAAKf,EAAE,IAAM,CAAEE,EAAEC,MAAQY,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYb,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIe,EAAI,MAC7D,GAAIf,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIc,KAAKL,GAAK,MACvDf,EAAE,IAAIE,EAAEI,IAAIY,MAChBhB,EAAEG,KAAKa,MAAO,SAEtBH,EAAKlB,EAAKoB,KAAKtC,EAASuB,GAC1B,MAAOZ,GAAKyB,EAAK,CAAC,EAAGzB,GAAIS,EAAI,UAAeD,EAAIE,EAAI,EACtD,GAAY,EAARe,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5B,MAAO4B,EAAG,GAAKA,EAAG,QAAK,EAAQtB,MAAM,GArB9BL,CAAK,CAACyB,EAAGC,UClDvDO,EAAoB,qBAAsBC,SAASC,gBAAgBC,MAEnEC,EAAsB,SAEtBC,EACI,SADJA,EAEO,YAFPA,EAIE,OAJFA,EAKI,SALJA,EAMW,gBANXA,EAOI,SAPJA,EAQI,SARJA,EAUG,QAVHA,EAWI,yPAqDR,SAAAC,EACmBC,GADnB,IAAAC,EAAAjB,KACmBA,KAAAgB,GAAAA,uBAvBe,kBAMN,cAEM,cAED,kBACG,GAclC,IAAME,EAAiBlB,KAAKkB,IAAG,iBAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,GAI5BlB,KAAKsB,cAAgB,WACIL,EAAKC,IACxBT,EACEQ,EAAKM,gBACPN,EAAKO,SACLP,EAAKM,gBAAiB,GAEtBN,EAAKM,gBAAiB,EAGxBN,EAAKO,UAENC,KAAKzB,aAGHe,EAAAW,UAAAC,oBACL3B,KAAKkB,IAASH,EAAgBa,IAAG,IAAI5B,KAAK6B,OAC1C,IAAMX,EAAiBlB,KAAKkB,IAAG,cAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,IAGvBH,EAAAW,UAAAI,sCACCZ,EAAiBlB,KAAKkB,IAAG,qBAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,GAC5Ba,WAAW,WAAM,OAAAd,EAAKe,cAGhBjB,EAAAW,UAAAO,qBAAYC,cACZhB,EAAiBlB,KAAKkB,IAAG,iBAC/B,GAAKlB,KAAKmC,KAAV,CAIInC,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,WAAYgB,GAE7C,IAAME,EAAwBC,OAAOC,KAAKJ,GAEtCK,EAAYH,EAAa,CAC3BtB,EAAuBA,MACvBd,KAAKwC,aAAeC,EAAaC,QAG/BH,EAAYH,EAAa,CAC3BtB,EAAwBA,EACxBA,MACAd,KAAKwC,aAAeC,EAAaE,UAG/BC,EAASR,EAAatB,KACxBd,KAAKwC,aAAeC,EAAaI,QAG/BN,EAAYH,EAAa,CAC3BtB,EAA+BA,EAC/BA,MACAd,KAAKwC,aAAeC,EAAaK,UAGnCf,WAAW,WAAM,OAAAd,EAAK8B,sBA5BhB/C,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,oDA+B7BH,EAAAW,UAAAqB,wBACN,IAAM7B,EAAiBlB,KAAKkB,IAAG,kBAE/B,OADIlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,qBAAsBuB,EAAazC,KAAKwC,eACjExC,KAAKwC,cACX,KAAKC,EAAaC,OAChB1C,KAAKwB,SACL,MACF,KAAKiB,EAAaE,SAChB3C,KAAKgD,WACL,MACF,KAAKP,EAAaI,OAChB7C,KAAKiD,SACL,MACF,KAAKR,EAAaK,SAChB9C,KAAKgC,WAGThC,KAAKwC,aAAeC,EAAaS,MAGtBnC,EAAAW,UAAAyB,iBAAQC,EAAaC,0EAIhC,OAHMnC,EAAiBlB,KAAKkB,IAAG,aAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWkC,GACxCpD,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWmC,IAAWC,UAAY,MAAQD,GAC3E,CAAA,EAAOE,EAAAA,QAAevD,KAAKmC,KAAMiB,EAAQC,SAG9BtC,EAAAW,UAAAF,gBAAOgC,iGAGlB,OAFMtC,EAAiBlB,KAAKkB,IAAG,YAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,SAAUsC,GAC3C,CAAA,EAAMC,EAAAA,MAAajC,OAAOxB,KAAKmC,qBAA/BuB,EAAAlE,iBAGWuB,EAAAW,UAAAsB,kBAASW,eAAA,IAAAA,IAAAA,EAAc3D,KAAK2D,+FAGvC,OAFMzC,EAAiBlB,KAAKkB,IAAG,cAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWyC,GAC5C,CAAA,EAAMC,EAAAA,SAAgB5D,KAAKmC,KAAMwB,kBAAjCD,EAAAlE,iBAGWuB,EAAAW,UAAA0B,gBAAOS,EAAiBC,0EAInC,OAHM5C,EAAiBlB,KAAKkB,IAAG,YAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,cAAe2C,GAC5C7D,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,gBAAiB4C,GAClD,CAAA,EAAOC,EAAAA,OAAc/D,KAAKmC,KAAM0B,EAAYC,SAGjC/C,EAAAW,UAAAuB,yFAKX,OAJM/B,EAAiBlB,KAAKkB,IAAG,YAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,GAC5BlB,KAAKmC,KAAK6B,KAAOhE,KAAKgE,KACtBhE,KAAKmC,KAAKwB,OAAS3D,KAAK2D,OACxB,CAAA,EAAOM,EAAAA,OAAcjE,KAAKmC,YAGfpB,EAAAW,UAAAM,oHAMX,OALMd,EAAiBlB,KAAKkB,IAAG,cAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,GAC5BlB,KAAKkE,uBAELlE,KAAKmC,KAAOzB,SAASyD,eAAenE,KAAK6B,QACpC7B,KAAKmC,MAENnC,KAAKoE,QACPpE,KAAKmC,KAAKvB,MAAMwD,MAAQpE,KAAKoE,MAAQ,IACrCpE,KAAKmC,KAAKvB,MAAM,gBAAkB,IAAMZ,KAAKoE,OAAS,EAAI,KAGxDpE,KAAKqE,SACPrE,KAAKmC,KAAKvB,MAAMyD,OAASrE,KAAKqE,OAAS,IACvCrE,KAAKmC,KAAKvB,MAAM,eAAiB,IAAMZ,KAAKqE,QAAU,EAAI,KAExDrE,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,aAAclB,KAAKmC,MAO9CmC,KAAyBtE,KAAKoE,QAASpE,KAAKqE,QAC9CrE,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,CAAEoD,WAAUA,IAE7CC,EAAAA,QAAevE,KAAKmC,KAAM,CACxB6B,KAAMhE,KAAKgE,KACXL,OAAQ3D,KAAK2D,OACba,OAAQxE,KAAKyE,cACbC,OAAQ1E,KAAK0E,SAGf1E,KAAK2E,qBAAqB3E,KAAKmC,KAAMnC,KAAK4E,QAEtC5E,KAAKoE,OAASpE,KAAKqE,QACjBrE,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,YACjC,CAAA,EAAMlB,KAAKwB,WAFT,CAAA,EAAA,IA9BY,CAAA,iBAgCdkC,EAAAlE,OACAQ,KAAK6E,WAAY,eAEjB7E,KAAK6E,WAAY,mBAGnB,MAAA,CAAA,SAGM9D,EAAAW,UAAAiD,8BAAqBxC,EAAWyC,cAChC1D,EAAiBlB,KAAKkB,IAAG,0BAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAW0D,GAE5CvC,OAAOC,KAAKsC,GAAU,IAAIE,QAAQ,SAAAC,GAChC,IAAM7D,EAAiBD,EAAKC,IAAG,IAAI6D,EAAC,KACpC9D,EAAKkB,KAAK6C,GAAGD,EAAG,SAACf,EAAMR,GACjBvC,EAAKE,OAAOC,QAAQC,IAAIH,EAAK,QAAS8C,GACtC/C,EAAKE,OAAOC,QAAQC,IAAIH,EAAK,SAAUsC,GAC3CoB,EAAOG,GAAGf,EAAMR,EAAOvC,EAAMgE,OAIjCC,OAAOC,iBAAiBtE,EAAab,KAAKsB,gBAGrCP,EAAAW,UAAAwC,gCACL,IAAMhD,EAAiBlB,KAAKkB,IAAG,0BAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,GAC5BgE,OAAOE,oBAAoBvE,EAAab,KAAKsB,gBAGlCP,EAAAW,UAAA2D,mBAAUhC,EAAqBiC,0EAI1C,OAHMpE,EAAiBlB,KAAKkB,IAAG,eAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWmC,GACxCrD,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,SAAUoE,GAC3C,CAAA,EAAOA,IAAUhC,UAAYiC,EAAAA,UAAiBvF,KAAKmC,KAAMkB,GACvDkC,EAAAA,UAAiBvF,KAAKmC,KAAMkB,EAAQiC,SAG3BvE,EAAAW,UAAA8D,sBAAanC,0EAGxB,OAFMnC,EAAiBlB,KAAKkB,IAAG,kBAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWmC,GAC5C,CAAA,EAAOoC,EAAAA,aAAoBzF,KAAKmC,KAAMkB,SAG3BtC,EAAAW,UAAAgE,iBAAQtC,EAAauC,0EAIhC,OAHMzE,EAAiBlB,KAAKkB,IAAG,aAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWkC,GACxCpD,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,aAAcyE,GAC/C,CAAA,EAAOC,EAAAA,QAAe5F,KAAKmC,KAAMiB,EAAQuC,SAG9B5E,EAAAW,UAAAmE,mBAAUnB,EAAeoB,0EAIpC,OAHM5E,EAAiBlB,KAAKkB,IAAG,eAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWwD,GACxC1E,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,WAAY4E,GAC7C,CAAA,EAAOC,EAAAA,UAAiB/F,KAAKmC,KAAMuC,EAAQoB,SAGhC/E,EAAAW,UAAAsE,sBAAaF,0EAGxB,OAFM5E,EAAiBlB,KAAKkB,IAAG,kBAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,EAAK,UAAWwD,QAC5C,CAAA,EAAOuB,EAAAA,aAAoBjG,KAAKmC,KAAM2D,SAGjC/E,EAAAW,UAAAwE,uBACL,IAAMhF,EAAiBlB,KAAKkB,IAAG,iBAC3BlB,KAAKmB,OAAOC,QAAQC,IAAIH,GAC5BlB,KAAKkE,8BA/P+B,sCAdvCiC,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,SACVC,SAAU,kEAKVC,gBAAiBC,EAAAA,wBAAwBC,OACzCC,KAAM,CACJC,gBAAiB,SACjBC,iBAAkB,uDAzDpBC,EAAAA,oDAyECC,EAAAA,sBAEAA,EAAAA,yBACAA,EAAAA,oBAEAA,EAAAA,sBACAA,EAAAA,6BACAA,EAAAA,sBACAA,EAAAA,sBACAA,EAAAA,qBAEAA,EAAAA,sBACAA,EAAAA,cA4OH,SAAAlE,EAAkBmE,EAAYC,GAC5B,OAA6B,IAAtBD,EAAIE,QAAQD,GAGrB,SAAAzE,EAAqBwE,EAAYG,GAC/B,OAAOA,EAAKC,KAAK,SAAAH,GAAO,OAAApE,EAASmE,EAAKC,KCxUxC,IAAAI,EAAA,oDAMCC,EAAAA,SAAQjB,KAAA,CAAC,CACRkB,QAAS,CAACC,EAAAA,cACVC,QAAS,CAACzG,GACV0G,aAAc,CAAC1G,GACf2G,UAAW,SAVb,sDDM2B,CACzBC,MAAO,eACPC,QAAS,iBACTC,MAAO,eACPC,YAAa,qBACbC,gBAAiB,yBACjBC,UAAW,mBACXnF,OAAQ,gBACRoF,QAAS,iBACTtF,SAAU,kBACVuF,UAAW,mBACXC,SAAU,kBACVC,SAAU","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {\r\n  Component, ChangeDetectionStrategy, OnInit, AfterViewInit, OnDestroy,\r\n  ChangeDetectorRef, Input, SimpleChanges,\r\n} from '@angular/core';\r\nimport * as Plotly from 'plotly.js';\r\n\r\nexport const PlotlyEvent = {\r\n  Hover: 'plotly_hover',\r\n  Unhover: 'plotly_unhover',\r\n  Click: 'plotly_click',\r\n  DoubleClick: 'plotly_doubleclick',\r\n  ClickAnnotation: 'plotly_clickannotation',\r\n  AfterPlot: 'plotly_afterplot',\r\n  Redraw: 'plotly_redraw',\r\n  Restyle: 'plotly_restyle',\r\n  Relayout: 'plotly_relayout',\r\n  Selecting: 'plotly_selecting',\r\n  Selected: 'plotly_selected',\r\n  Deselect: 'plotly_deselect',\r\n};\r\n\r\nconst isWebkit: boolean = 'WebkitAppearance' in document.documentElement.style;\r\n\r\nconst ResizeEvent: string = 'resize';\r\n\r\nconst PlotlyParameter = {\r\n  PlotId: 'plotId',\r\n  PlotClass: 'plotClass',\r\n\r\n  Data: 'data',\r\n  Layout: 'layout',\r\n  Configuration: 'configuration',\r\n  Events: 'events',\r\n  Frames: 'frames',\r\n\r\n  Width: 'width',\r\n  Height: 'height',\r\n};\r\n\r\nenum ChangeAction {\r\n  None,\r\n  Restyle,\r\n  Relayout,\r\n  Resize,\r\n  Update,\r\n  Redraw,\r\n  Recreate,\r\n}\r\n\r\n@Component({\r\n  selector: 'plotly',\r\n  template: `<div\r\n  id=\"{{ plotId }}\"\r\n  class=\"{{ plotClass }}\">\r\n</div>\r\n`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[style.width]': '\"100%\"',\r\n    '[style.height]': '\"100%\"',\r\n  }\r\n})\r\nexport class PlotlyComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  private static readonly Tag: string = 'PlotlyComponent';\r\n\r\n  private tag: string;\r\n\r\n  private receivedResize: boolean = false;\r\n  private resizeHandler: EventListenerObject;\r\n\r\n  private changeAction: ChangeAction;\r\n\r\n  public plot/*: HTMLElement */;\r\n  public afterPlot: boolean = false;\r\n\r\n  @Input() private debug: boolean = false;\r\n\r\n  @Input() public plotId: string = '';\r\n  @Input() public plotClass: string = '';\r\n\r\n  @Input() public data: any[];\r\n  @Input() public layout: any;\r\n  @Input() public configuration: any;\r\n  @Input() public events: any;\r\n  @Input() public frames: any[];\r\n\r\n  @Input() public width: number;\r\n  @Input() public height: number;\r\n\r\n  constructor(\r\n    private readonly cd: ChangeDetectorRef,\r\n  ) {\r\n    const tag: string = `${this.tag}.constructor()`;\r\n    if (this.debug) console.log(tag);\r\n\r\n    // WebKit double resize event workaround.\r\n    // https://stackoverflow.com/questions/5534363/why-does-the-jquery-resize-event-fire-twice\r\n    this.resizeHandler = (() => {\r\n      const tag: string = `${this.tag}.resizeHandler()`;\r\n      if (isWebkit) {\r\n        if (this.receivedResize) {\r\n          this.resize();\r\n          this.receivedResize = false;\r\n        } else {\r\n          this.receivedResize = true;\r\n        }\r\n      } else {\r\n        this.resize();\r\n      }\r\n    }).bind(this);\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.tag = `${PlotlyComponent.Tag}.${this.plotId}`;\r\n    const tag: string = `${this.tag}.ngOnInit()`;\r\n    if (this.debug) console.log(tag);\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    const tag: string = `${this.tag}.ngAfterViewInit()`;\r\n    if (this.debug) console.log(tag);\r\n    setTimeout(() => this.recreate());\r\n  }\r\n\r\n  private ngOnChanges(changes: SimpleChanges): void {\r\n    const tag: string = `${this.tag}.ngOnChanges()`;\r\n    if (!this.plot) {\r\n      if (this.debug) console.log(tag, 'ignoring changes, plot not yet once initialized');\r\n      return;\r\n    }\r\n    if (this.debug) console.log(tag, 'changes:', changes);\r\n\r\n    const changedKeys: string[] = Object.keys(changes);\r\n\r\n    if (includesArr(changedKeys, [\r\n      PlotlyParameter.Width, PlotlyParameter.Height])) {\r\n      this.changeAction = ChangeAction.Resize;\r\n    }\r\n\r\n    if (includesArr(changedKeys, [\r\n      PlotlyParameter.Layout, PlotlyParameter.PlotId,\r\n      PlotlyParameter.PlotClass])) {\r\n      this.changeAction = ChangeAction.Relayout;\r\n    }\r\n\r\n    if (includes(changedKeys, PlotlyParameter.Data)) {\r\n      this.changeAction = ChangeAction.Redraw;\r\n    }\r\n\r\n    if (includesArr(changedKeys, [\r\n      PlotlyParameter.Configuration, PlotlyParameter.Events,\r\n      PlotlyParameter.Frames])) {\r\n      this.changeAction = ChangeAction.Recreate;\r\n    }\r\n\r\n    setTimeout(() => this.applyChanges());\r\n  }\r\n\r\n  private applyChanges(): void {\r\n    const tag: string = `${this.tag}.applyChanges()`;\r\n    if (this.debug) console.log(tag, 'this.changeAction:', ChangeAction[this.changeAction]);\r\n    switch (this.changeAction) {\r\n      case ChangeAction.Resize:\r\n        this.resize();\r\n        break;\r\n      case ChangeAction.Relayout:\r\n        this.relayout();\r\n        break;\r\n      case ChangeAction.Redraw:\r\n        this.redraw();\r\n        break;\r\n      case ChangeAction.Recreate:\r\n        this.recreate();\r\n        break;\r\n    }\r\n    this.changeAction = ChangeAction.None;\r\n  }\r\n\r\n  public async restyle(update: any, traces?: number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.restyle()`;\r\n    if (this.debug) console.log(tag, 'update:', update);\r\n    if (this.debug) console.log(tag, 'traces:', traces === undefined ? 'all' : traces);\r\n    return Plotly.restyle(this.plot, update, traces);\r\n  }\r\n\r\n  public async resize(event?: Event): Promise<any> {\r\n    const tag: string = `${this.tag}.resize()`;\r\n    if (this.debug) console.log(tag, 'event:', event);\r\n    await Plotly.Plots.resize(this.plot);\r\n  }\r\n\r\n  public async relayout(layout: any = this.layout): Promise<any> {\r\n    const tag: string = `${this.tag}.relayout()`;\r\n    if (this.debug) console.log(tag, 'layout:', layout);\r\n    await Plotly.relayout(this.plot, layout);\r\n  }\r\n\r\n  public async update(dataUpdate: any, layoutUpdate: any): Promise<any> {\r\n    const tag: string = `${this.tag}.update()`;\r\n    if (this.debug) console.log(tag, 'dataUpdate:', dataUpdate);\r\n    if (this.debug) console.log(tag, 'layoutUpdate:', layoutUpdate);\r\n    return Plotly.update(this.plot, dataUpdate, layoutUpdate);\r\n  }\r\n\r\n  public async redraw(): Promise<any> {\r\n    const tag: string = `${this.tag}.redraw()`;\r\n    if (this.debug) console.log(tag);\r\n    this.plot.data = this.data;\r\n    this.plot.layout = this.layout;\r\n    return Plotly.redraw(this.plot);\r\n  }\r\n\r\n  public async recreate(): Promise<any> {\r\n    const tag: string = `${this.tag}.recreate()`;\r\n    if (this.debug) console.log(tag);\r\n    this.removeEventListeners();\r\n\r\n    this.plot = document.getElementById(this.plotId);\r\n    if (!this.plot) return;\r\n\r\n    if (this.width) {\r\n      this.plot.style.width = this.width + '%';\r\n      this.plot.style['margin-left'] = (100 - this.width) / 2 + '%';\r\n    }\r\n\r\n    if (this.height) {\r\n      this.plot.style.height = this.height + '%';\r\n      this.plot.style['margin-top'] = (100 - this.height) / 2 + '%';\r\n    }\r\n    if (this.debug) console.log(tag, 'this.plot:', this.plot);\r\n\r\n    // if (this.debug) console.log(tag, 'this.data:', this.data);\r\n    // if (this.debug) console.log(tag, 'this.layout:', this.layout);\r\n    // if (this.debug) console.log(tag, 'this.configuration:', this.configuration);\r\n    // if (this.debug) console.log(tag, 'this.frames:', this.frames);\r\n\r\n    const resizePlot: boolean = !!(this.width || this.height);\r\n    if (this.debug) console.log(tag, { resizePlot });\r\n\r\n    Plotly.newPlot(this.plot, {\r\n      data: this.data,\r\n      layout: this.layout,\r\n      config: this.configuration,\r\n      frames: this.frames,\r\n    });\r\n\r\n    this.attachEventListeners(this.plot, this.events);\r\n\r\n    if (this.width || this.height) {\r\n      if (this.debug) console.log(tag, 'resizing');\r\n      await this.resize();\r\n      this.afterPlot = true;\r\n    } else {\r\n      this.afterPlot = true;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  private attachEventListeners(plot: any, events: any): void {\r\n    const tag: string = `${this.tag}.attachEventListeners()`;\r\n    if (this.debug) console.log(tag, 'events:', events);\r\n\r\n    Object.keys(events || {}).forEach(k => {\r\n      const tag: string = `${this.tag}.${k}()`;\r\n      this.plot.on(k, (data, event) => {\r\n        if (this.debug) console.log(tag, 'data:', data);\r\n        if (this.debug) console.log(tag, 'event:', event);\r\n        events[k](data, event, this, Plotly);\r\n      });\r\n    });\r\n\r\n    window.addEventListener(ResizeEvent, this.resizeHandler);\r\n  }\r\n\r\n  public removeEventListeners(): void {\r\n    const tag: string = `${this.tag}.removeEventListeners()`;\r\n    if (this.debug) console.log(tag);\r\n    window.removeEventListener(ResizeEvent, this.resizeHandler);\r\n  }\r\n\r\n  public async addTraces(traces: any | any[], index?: number): Promise<any> {\r\n    const tag: string = `${this.tag}.addTraces()`;\r\n    if (this.debug) console.log(tag, 'traces:', traces);\r\n    if (this.debug) console.log(tag, 'index:', index);\r\n    return index === undefined ? Plotly.addTraces(this.plot, traces) :\r\n      Plotly.addTraces(this.plot, traces, index);\r\n  }\r\n\r\n  public async deleteTraces(traces: number | number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.deleteTraces()`;\r\n    if (this.debug) console.log(tag, 'traces:', traces);\r\n    return Plotly.deleteTraces(this.plot, traces);\r\n  }\r\n\r\n  public async animate(update: any, animation: any): Promise<any> {\r\n    const tag: string = `${this.tag}.animate()`;\r\n    if (this.debug) console.log(tag, 'update:', update);\r\n    if (this.debug) console.log(tag, 'animation:', animation);\r\n    return Plotly.animate(this.plot, update, animation);\r\n  }\r\n\r\n  public async addFrames(frames: any[], indices?: number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.addFrames()`;\r\n    if (this.debug) console.log(tag, 'frames:', frames);\r\n    if (this.debug) console.log(tag, 'indices:', indices);\r\n    return Plotly.addFrames(this.plot, frames, indices);\r\n  }\r\n\r\n  public async deleteFrames(indices: number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.deleteFrames()`;\r\n    if (this.debug) console.log(tag, 'frames:', frames);\r\n    return Plotly.deleteFrames(this.plot, indices);\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    const tag: string = `${this.tag}.ngOnDestroy()`;\r\n    if (this.debug) console.log(tag);\r\n    this.removeEventListeners();\r\n  }\r\n}\r\n\r\n\r\nfunction includes(arr: any[], val: any): boolean {\r\n  return arr.indexOf(val) !== -1;\r\n}\r\n\r\nfunction includesArr(arr: any[], vals: any[]): boolean {\r\n  return vals.some(val => includes(arr, val));\r\n}\r\n\r\nfunction clone(v: any): any {\r\n  return !v ? v : JSON.parse(JSON.stringify((v)));\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PlotlyComponent, PlotlyEvent } from './plotly/plotly.component';\r\n\r\nexport { PlotlyComponent, PlotlyEvent };\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [PlotlyComponent],\r\n  declarations: [PlotlyComponent],\r\n  providers: [],\r\n})\r\nexport class PlotlyModule { }\r\n"]}