{"version":3,"file":"n-fuse-ng-plotly.js.map","sources":["ng://@n-fuse/ng-plotly/plotly/plotly.component.ts","ng://@n-fuse/ng-plotly/index.ts"],"sourcesContent":["import {\r\n  Component, ChangeDetectionStrategy, OnInit, AfterViewInit, OnDestroy,\r\n  ChangeDetectorRef, Input, SimpleChanges,\r\n} from '@angular/core';\r\nimport * as Plotly from 'plotly.js';\r\n\r\nexport const PlotlyEvent = {\r\n  Hover: 'plotly_hover',\r\n  Unhover: 'plotly_unhover',\r\n  Click: 'plotly_click',\r\n  DoubleClick: 'plotly_doubleclick',\r\n  ClickAnnotation: 'plotly_clickannotation',\r\n  AfterPlot: 'plotly_afterplot',\r\n  Redraw: 'plotly_redraw',\r\n  Restyle: 'plotly_restyle',\r\n  Relayout: 'plotly_relayout',\r\n  Selecting: 'plotly_selecting',\r\n  Selected: 'plotly_selected',\r\n  Deselect: 'plotly_deselect',\r\n};\r\n\r\nconst isWebkit: boolean = 'WebkitAppearance' in document.documentElement.style;\r\n\r\nconst ResizeEvent: string = 'resize';\r\n\r\nconst PlotlyParameter = {\r\n  PlotId: 'plotId',\r\n  PlotClass: 'plotClass',\r\n\r\n  Data: 'data',\r\n  Layout: 'layout',\r\n  Configuration: 'configuration',\r\n  Events: 'events',\r\n  Frames: 'frames',\r\n\r\n  Width: 'width',\r\n  Height: 'height',\r\n};\r\n\r\nenum ChangeAction {\r\n  None,\r\n  Restyle,\r\n  Relayout,\r\n  Resize,\r\n  Update,\r\n  Redraw,\r\n  Recreate,\r\n}\r\n\r\n@Component({\r\n  selector: 'plotly',\r\n  template: `<div\r\n  id=\"{{ plotId }}\"\r\n  class=\"{{ plotClass }}\">\r\n</div>\r\n`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[style.width]': '\"100%\"',\r\n    '[style.height]': '\"100%\"',\r\n  }\r\n})\r\nexport class PlotlyComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  private static readonly Tag: string = 'PlotlyComponent';\r\n\r\n  private tag: string;\r\n\r\n  private receivedResize: boolean = false;\r\n  private resizeHandler: EventListenerObject;\r\n\r\n  private changeAction: ChangeAction;\r\n\r\n  public plot/*: HTMLElement */;\r\n  public afterPlot: boolean = false;\r\n\r\n  @Input() private debug: boolean = false;\r\n\r\n  @Input() public plotId: string = '';\r\n  @Input() public plotClass: string = '';\r\n\r\n  @Input() public data: any[];\r\n  @Input() public layout: any;\r\n  @Input() public configuration: any;\r\n  @Input() public events: any;\r\n  @Input() public frames: any[];\r\n\r\n  @Input() public width: number;\r\n  @Input() public height: number;\r\n\r\n  constructor(\r\n    private readonly cd: ChangeDetectorRef,\r\n  ) {\r\n    const tag: string = `${this.tag}.constructor()`;\r\n    if (this.debug) console.log(tag);\r\n\r\n    // WebKit double resize event workaround.\r\n    // https://stackoverflow.com/questions/5534363/why-does-the-jquery-resize-event-fire-twice\r\n    this.resizeHandler = (() => {\r\n      const tag: string = `${this.tag}.resizeHandler()`;\r\n      if (isWebkit) {\r\n        if (this.receivedResize) {\r\n          this.resize();\r\n          this.receivedResize = false;\r\n        } else {\r\n          this.receivedResize = true;\r\n        }\r\n      } else {\r\n        this.resize();\r\n      }\r\n    }).bind(this);\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.tag = `${PlotlyComponent.Tag}.${this.plotId}`;\r\n    const tag: string = `${this.tag}.ngOnInit()`;\r\n    if (this.debug) console.log(tag);\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    const tag: string = `${this.tag}.ngAfterViewInit()`;\r\n    if (this.debug) console.log(tag);\r\n    setTimeout(() => this.recreate());\r\n  }\r\n\r\n  private ngOnChanges(changes: SimpleChanges): void {\r\n    const tag: string = `${this.tag}.ngOnChanges()`;\r\n    if (!this.plot) {\r\n      if (this.debug) console.log(tag, 'ignoring changes, plot not yet once initialized');\r\n      return;\r\n    }\r\n    if (this.debug) console.log(tag, 'changes:', changes);\r\n\r\n    const changedKeys: string[] = Object.keys(changes);\r\n\r\n    if (includesArr(changedKeys, [\r\n      PlotlyParameter.Width, PlotlyParameter.Height])) {\r\n      this.changeAction = ChangeAction.Resize;\r\n    }\r\n\r\n    if (includesArr(changedKeys, [\r\n      PlotlyParameter.Layout, PlotlyParameter.PlotId,\r\n      PlotlyParameter.PlotClass])) {\r\n      this.changeAction = ChangeAction.Relayout;\r\n    }\r\n\r\n    if (includes(changedKeys, PlotlyParameter.Data)) {\r\n      this.changeAction = ChangeAction.Redraw;\r\n    }\r\n\r\n    if (includesArr(changedKeys, [\r\n      PlotlyParameter.Configuration, PlotlyParameter.Events,\r\n      PlotlyParameter.Frames])) {\r\n      this.changeAction = ChangeAction.Recreate;\r\n    }\r\n\r\n    setTimeout(() => this.applyChanges());\r\n  }\r\n\r\n  private applyChanges(): void {\r\n    const tag: string = `${this.tag}.applyChanges()`;\r\n    if (this.debug) console.log(tag, 'this.changeAction:', ChangeAction[this.changeAction]);\r\n    switch (this.changeAction) {\r\n      case ChangeAction.Resize:\r\n        this.resize();\r\n        break;\r\n      case ChangeAction.Relayout:\r\n        this.relayout();\r\n        break;\r\n      case ChangeAction.Redraw:\r\n        this.redraw();\r\n        break;\r\n      case ChangeAction.Recreate:\r\n        this.recreate();\r\n        break;\r\n    }\r\n    this.changeAction = ChangeAction.None;\r\n  }\r\n\r\n  public async restyle(update: any, traces?: number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.restyle()`;\r\n    if (this.debug) console.log(tag, 'update:', update);\r\n    if (this.debug) console.log(tag, 'traces:', traces === undefined ? 'all' : traces);\r\n    return Plotly.restyle(this.plot, update, traces);\r\n  }\r\n\r\n  public async resize(event?: Event): Promise<any> {\r\n    const tag: string = `${this.tag}.resize()`;\r\n    if (this.debug) console.log(tag, 'event:', event);\r\n    await Plotly.Plots.resize(this.plot);\r\n  }\r\n\r\n  public async relayout(layout: any = this.layout): Promise<any> {\r\n    const tag: string = `${this.tag}.relayout()`;\r\n    if (this.debug) console.log(tag, 'layout:', layout);\r\n    await Plotly.relayout(this.plot, layout);\r\n  }\r\n\r\n  public async update(dataUpdate: any, layoutUpdate: any): Promise<any> {\r\n    const tag: string = `${this.tag}.update()`;\r\n    if (this.debug) console.log(tag, 'dataUpdate:', dataUpdate);\r\n    if (this.debug) console.log(tag, 'layoutUpdate:', layoutUpdate);\r\n    return Plotly.update(this.plot, dataUpdate, layoutUpdate);\r\n  }\r\n\r\n  public async redraw(): Promise<any> {\r\n    const tag: string = `${this.tag}.redraw()`;\r\n    if (this.debug) console.log(tag);\r\n    this.plot.data = this.data;\r\n    this.plot.layout = this.layout;\r\n    return Plotly.redraw(this.plot);\r\n  }\r\n\r\n  public async recreate(): Promise<any> {\r\n    const tag: string = `${this.tag}.recreate()`;\r\n    if (this.debug) console.log(tag);\r\n    this.removeEventListeners();\r\n\r\n    this.plot = document.getElementById(this.plotId);\r\n    if (!this.plot) return;\r\n\r\n    if (this.width) {\r\n      this.plot.style.width = this.width + '%';\r\n      this.plot.style['margin-left'] = (100 - this.width) / 2 + '%';\r\n    }\r\n\r\n    if (this.height) {\r\n      this.plot.style.height = this.height + '%';\r\n      this.plot.style['margin-top'] = (100 - this.height) / 2 + '%';\r\n    }\r\n    if (this.debug) console.log(tag, 'this.plot:', this.plot);\r\n\r\n    // if (this.debug) console.log(tag, 'this.data:', this.data);\r\n    // if (this.debug) console.log(tag, 'this.layout:', this.layout);\r\n    // if (this.debug) console.log(tag, 'this.configuration:', this.configuration);\r\n    // if (this.debug) console.log(tag, 'this.frames:', this.frames);\r\n\r\n    const resizePlot: boolean = !!(this.width || this.height);\r\n    if (this.debug) console.log(tag, { resizePlot });\r\n\r\n    Plotly.newPlot(this.plot, {\r\n      data: this.data,\r\n      layout: this.layout,\r\n      config: this.configuration,\r\n      frames: this.frames,\r\n    });\r\n\r\n    this.attachEventListeners(this.plot, this.events);\r\n\r\n    if (this.width || this.height) {\r\n      if (this.debug) console.log(tag, 'resizing');\r\n      await this.resize();\r\n      this.afterPlot = true;\r\n    } else {\r\n      this.afterPlot = true;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  private attachEventListeners(plot: any, events: any): void {\r\n    const tag: string = `${this.tag}.attachEventListeners()`;\r\n    if (this.debug) console.log(tag, 'events:', events);\r\n\r\n    Object.keys(events || {}).forEach(k => {\r\n      const tag: string = `${this.tag}.${k}()`;\r\n      this.plot.on(k, (data, event) => {\r\n        if (this.debug) console.log(tag, 'data:', data);\r\n        if (this.debug) console.log(tag, 'event:', event);\r\n        events[k](data, event, this, Plotly);\r\n      });\r\n    });\r\n\r\n    window.addEventListener(ResizeEvent, this.resizeHandler);\r\n  }\r\n\r\n  public removeEventListeners(): void {\r\n    const tag: string = `${this.tag}.removeEventListeners()`;\r\n    if (this.debug) console.log(tag);\r\n    window.removeEventListener(ResizeEvent, this.resizeHandler);\r\n  }\r\n\r\n  public async addTraces(traces: any | any[], index?: number): Promise<any> {\r\n    const tag: string = `${this.tag}.addTraces()`;\r\n    if (this.debug) console.log(tag, 'traces:', traces);\r\n    if (this.debug) console.log(tag, 'index:', index);\r\n    return index === undefined ? Plotly.addTraces(this.plot, traces) :\r\n      Plotly.addTraces(this.plot, traces, index);\r\n  }\r\n\r\n  public async deleteTraces(traces: number | number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.deleteTraces()`;\r\n    if (this.debug) console.log(tag, 'traces:', traces);\r\n    return Plotly.deleteTraces(this.plot, traces);\r\n  }\r\n\r\n  public async animate(update: any, animation: any): Promise<any> {\r\n    const tag: string = `${this.tag}.animate()`;\r\n    if (this.debug) console.log(tag, 'update:', update);\r\n    if (this.debug) console.log(tag, 'animation:', animation);\r\n    return Plotly.animate(this.plot, update, animation);\r\n  }\r\n\r\n  public async addFrames(frames: any[], indices?: number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.addFrames()`;\r\n    if (this.debug) console.log(tag, 'frames:', frames);\r\n    if (this.debug) console.log(tag, 'indices:', indices);\r\n    return Plotly.addFrames(this.plot, frames, indices);\r\n  }\r\n\r\n  public async deleteFrames(indices: number[]): Promise<any> {\r\n    const tag: string = `${this.tag}.deleteFrames()`;\r\n    if (this.debug) console.log(tag, 'frames:', frames);\r\n    return Plotly.deleteFrames(this.plot, indices);\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    const tag: string = `${this.tag}.ngOnDestroy()`;\r\n    if (this.debug) console.log(tag);\r\n    this.removeEventListeners();\r\n  }\r\n}\r\n\r\n\r\nfunction includes(arr: any[], val: any): boolean {\r\n  return arr.indexOf(val) !== -1;\r\n}\r\n\r\nfunction includesArr(arr: any[], vals: any[]): boolean {\r\n  return vals.some(val => includes(arr, val));\r\n}\r\n\r\nfunction clone(v: any): any {\r\n  return !v ? v : JSON.parse(JSON.stringify((v)));\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PlotlyComponent, PlotlyEvent } from './plotly/plotly.component';\r\n\r\nexport { PlotlyComponent, PlotlyEvent };\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [PlotlyComponent],\r\n  declarations: [PlotlyComponent],\r\n  providers: [],\r\n})\r\nexport class PlotlyModule { }\r\n"],"names":["update","Plotly.restyle","Plotly.Plots","Plotly.relayout","Plotly.update","Plotly.redraw","Plotly.newPlot","Plotly.addTraces","Plotly.deleteTraces","Plotly.animate","Plotly.addFrames","Plotly.deleteFrames"],"mappings":"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"}
